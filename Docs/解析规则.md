解析规则升级实施计划
本计划旨在升级 Agent 的日志解析逻辑，以支持更精细的任务状态监控、错误识别以及超温保护。

用户规则对照

1. 固定时长任务
   剩余时间：解析 Log: Seconds remaining: (\d+)。
   Hang 检测：Kernel 或 CM55 超过 5 分钟（300s）无新日志。
   错误捕获：Error: Miscompare 和 [Error] Mismatch。
2. 循环启动任务
   Loop 统计：解析 BMX7 DDR Reboot Test: Loop(\d+)。
   错误捕获：
   Switch to Full Training Boot
   Switch to Run Full Training Mode
   2D Training Successfully！
   以及通用的 Miscompare 和 Mismatch。
3. 通用警告 (CM55)
   触发词：W/NO_TAG THM_INFO: warning:check_temp exceed!!!
   视觉反馈：前端温度读数高亮黄色。
   方案设计
   [Agent] 逻辑逻辑 (agent.py)
   状态字段扩充：在 cached_status 中增加 remaining_seconds 和 loops。
   正则更新：
   增加对剩余时间秒数的正则提取平衡。
   增加对 Loop 数字的提取。
   扩充错误关键字列表，区分任务类型应用不同的检测规则。
   Hang 检测优化：在每次心跳更新时，比较当前时间与 heartbeat 时间戳，若差值 > 300s 且状态不是 Finished，则标记为 Error/Hang。
   超温标记：在 CM55 解析到特定警告时，在状态包中添加 temp_warning: true 标志。
   [Frontend] 视觉展现 (page.tsx)
   RigCard 增强：如果任务类型是“循环启动任务”，则展示 Loop: N。
   温度组件：根据 temp_warning 属性，将 text 颜色动态设置为 text-yellow-400 或相应的背景。
   验证计划
   修改
   agent.py
   后，使用现有的
   logs/
   下的旧日志（或手动注入关键字）观察控制台上报。
   模拟 CM55 超温关键字，检查前端页面显示。
